<!DOCTYPE html>
<html lang="en">
<head>
<title>Template</title>
  <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;"/>
  <link rel="icon" type="image/png" href="iui/iui-favicon.png">
  <link rel="apple-touch-icon" href="iui/iui-logo-touch-icon.png" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <link rel="stylesheet" href="iui/iui.css" type="text/css" />

  <link rel="stylesheet" title="Default" href="iui/t/default/default-theme.css"  type="text/css"/>
  <link rel="stylesheet" href="css/iui-panel-list.css" type="text/css" />
  
  <script type = 'text/javascript'>
    var djConfig = {
        isDebug: false,
        parseOnLoad: true,
        baseUrl: './'
      };
  </script>
  <script src="http://ajax.googleapis.com/ajax/libs/dojo/1.5/dojo/dojo.xd.js" type="text/javascript"></script>
  <script type="text/javascript" src="/libs/uow/trace.js"></script>
  <script type="text/javascript" src="/libs/uow.js"></script>
  <script type = "text/javascript">
  
    var topTabs = [
        {
            "name": "#school",
            "nameTag":"school",
            "image": "school.jpg",
            "audioImages": [
                {
                    "pic":"math.jpg",
                    "word":"math"
                },
                {
                    "pic":"socialStudies.gif",
                    "word":"social studies"
                }
            ]
        },
        {
            "name": "#family",
            "nameTag":"family",
            "image": "family.jpg",
            "audioImages": [
                {
                    "pic":"mother.jpg",
                    "word":"mother"
                },
                {
                    "pic":"father.jpg",
                    "word":"father"
                }
            ]
        },
        {
            "name": "#career",
            "nameTag":"career",
            "image": "career.jpg",
            "audioImages": [
                {
                    "pic":"teacher.jpg",
                    "word":"teacher"
                },
                {
                    "pic":"janitor.gif",
                    "word":"janitor"
                }
            ]
        }
    ]
    var bottomTabs = [
        {
            "name": "#animal",
            "nameTag":"animal",
            "image": "animals.jpg",
            "audioImages": [
                {
                    "pic":"cat.jpg",
                    "word":"cat"
                },
                {
                    "pic":"frog.jpg",
                    "word":"frog"
                }
            ]
        }, 
        {
            "name": "#plant",
            "nameTag":"plant",
            "image": "plant.jpg",
            "audioImages": [
                {
                    "pic":"rose.jpg",
                    "word":"rose"
                },
                {
                    "pic":"pine.jpg",
                    "word":"pine"
                }
            ]
        }   
    ]
    
    var currentTab = null;
  
        function startUp() {
            uow.getAudio().addCallback(start);
        }
        function start(audio) { 
            var toolbar = dojo.create("div", {className:"toolbar"},dojo.body());
            var deBody = dojo.create("div", {className:"panel",selected:"true", id:""}, dojo.body());
            
            createTabs(audio);
            
            var imgTable = dojo.create("table",{selected:"true",style:{"position":"absolute","width":"356px","height":"70px"}},toolbar);
            var tr = dojo.create("tr",null,imgTable);
            dojo.forEach(topTabs, function(tab) {
                var td = dojo.create("td",{style:{"width":"118.5px"}}, tr);
                var a = dojo.create("a",{href:tab.name},td);
                var image = dojo.create("img",{src:tab.image, height:"45px", width:"50px"}, a);
                var caption = dojo.create("caption",{align:"top",innerHTML:tab.nameTag, selected:"true"},td);
                dojo.connect(a, 'onmouseup', function() {
                    if (currentTab != tab) {
                        if (currentTab!=null) {
                            document.getElementById(currentTab.nameTag).setAttribute("selected","false");
                        }
                        currentTab = tab;
                        a.href = tab.name;
                        document.getElementById(currentTab.nameTag).setAttribute("selected","true");
                    }
                    else {
                        a.href = "javascript://";
                    }
                });
            });
            
            var leftTable = dojo.create("table",{id:"sideTable",style:{"position":"absolute","width":'55px',"top":'70px',"height":'225px'},selected:"true"},dojo.body());
                var tr = dojo.create("tr",null,leftTable);
                var td = dojo.create("td",{id:"sidetd1",style:{"height":"55px"}, innerHTML:"Please give me a moment to respond."},tr);
                    dojo.connect(td, 'onmouseup',dojo.hitch(this,playSound,audio,"Please give me a moment to respond."));
                var tr = dojo.create("tr",null,leftTable);
                var td = dojo.create("td",{id:"sidetd1",style:{"height":"56px"}, innerHTML:"I don't understand"},tr);
                    dojo.connect(td, 'onmouseup',dojo.hitch(this,playSound,audio,"I don't understand"));
                var tr = dojo.create("tr",null,leftTable);
                var td = dojo.create("td",{id:"sidetd1",style:{"height":"56px"}, innerHTML:"Can you repeat that, please?"},tr);
                    dojo.connect(td, 'onmouseup',dojo.hitch(this,playSound,audio,"Can you repeat that, please?"));
                var tr = dojo.create("tr",null,leftTable);
                var td = dojo.create("td",{id:"sidetd1",style:{"height":"55px"},innerHTML:"I need help."},tr);
                    dojo.connect(td, 'onmouseup',dojo.hitch(this,playSound,audio,"I need help"));
            
            var rightTable = dojo.create("table",{id:"sideTable",style:{"position":"absolute","width":"55px","height":"225px","left":"262px","top":"70px"},selected:"true"},dojo.body());
            var tr = dojo.create("tr",null,rightTable);
            var td = dojo.create("td",{id:"sidetd2",style:{"height":"112px"}, innerHTML:"Display Text Button"},tr);
            var tr = dojo.create("tr",null,rightTable);
            var td = dojo.create("td",{id:"sidetd2",style:{"height":"112px"}, innerHTML:"Keyboard Button"},tr);
            
            var footer = dojo.create("div",{className:"menu",selected:"true"},dojo.body());
        }
        function createTabs(audio) {
            dojo.forEach(topTabs, function(tab) {
                var div = dojo.create("div",{id:tab.nameTag,className:"panel",style:{"top":"75px","left":"60px","width":"200px"}},dojo.body());
                dojo.forEach(tab.audioImages,function(stuff) {
                    var a = dojo.create("a",{href:"javascript:;"},div);
                    var img = dojo.create("img",{src:stuff.pic, className:"mainImg",height:"20%", width:"25%"},a);
                        dojo.connect(a,'onmouseup',dojo.hitch(this,'playSound',audio,stuff.word));
                });
            });
        }
        function playSound(audio, word) {
            audio.stop({channel:"sound"});
            audio.say({text:word, channel:"sound"});                            
       }
        dojo.addOnLoad(startUp);
  </script>
</head>
<body>
</body>
</html>